<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <title>Registro - Voces Sin Género</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" />
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" rel="stylesheet" />
  <link href="articulos.css" rel="stylesheet" />
  <style>
    .input-group-text {
      background: white;
      cursor: pointer;
    }
    .password-check {
      font-size: 0.9rem;
      color: #888;
    }
    .password-check span.valid {
      color: green;
    }
    .password-check span.invalid {
      color: red;
    }
  </style>
</head>
<body class="bg-light">
  <div class="container mt-5">
    <div class="card mx-auto p-4 shadow" style="max-width: 500px;">
      <h3 class="text-center mb-4">Crear una cuenta</h3>
      <form action="registro.php" method="POST" enctype="multipart/form-data">
    <h1>Registrate</h1>

    <div class="input-box1">
        <input type="text" name="nombre_usuario" placeholder="Usuario" required>
        <i class="fa-solid fa-user"></i>
    </div>

    <div class="input-box1">
        <input type="email" name="correo" placeholder="Correo electrónico" required>
        <i class="fa-solid fa-envelope"></i>
    </div>

    <div class="input-box1">
      <input type="password" id="loginPassword" placeholder="Contraseña" required>
      <i class="fa-solid fa-eye" id="toggleLoginPassword" onclick="togglePasswordVisibility('loginPassword', 'toggleLoginPassword')"></i>
    </div>


    <!-- Imagen opcional -->
    <div class="input-box1">
        <label style="font-size: 14px; color: #555;">Foto de perfil (opcional):</label>
        <input type="file" name="foto_perfil" accept="image/*">
    </div>

    <!-- Reglas de validación visual -->
    <ul id="password-rules" style="list-style: none; padding-left: 0;">
        <li id="rule-length" class="invalid">✔ Mínimo de 8 caracteres</li>
        <li id="rule-uppercase" class="invalid">✔ Mayúsculas y minúsculas</li>
        <li id="rule-number" class="invalid">✔ Un número</li>
        <li id="rule-special" class="invalid">✔ Un carácter especial</li>
    </ul>

    <p class="terminos_condiciones">
        Al crear cuenta aceptas nuestros <a href="terminos_condiciones.html">Términos y condiciones</a>
    </p>

    <button type="submit" class="btn">Registrate</button>
</form>


  <script>
    function togglePassword() {
      const input = document.getElementById('contraseña');
      const icon = document.getElementById('eyeIcon');
      if (input.type === 'password') {
        input.type = 'text';
        icon.classList.remove('fa-eye-slash');
        icon.classList.add('fa-eye');
      } else {
        input.type = 'password';
        icon.classList.remove('fa-eye');
        icon.classList.add('fa-eye-slash');
      }
    }

    document.getElementById('contraseña').addEventListener('input', function () {
      const val = this.value;
      document.getElementById('length').className = val.length >= 8 ? 'valid' : 'invalid';
      document.getElementById('uppercase').className = /[A-Z]/.test(val) ? 'valid' : 'invalid';
      document.getElementById('number').className = /\d/.test(val) ? 'valid' : 'invalid';
      document.getElementById('special').className = /[!@#$%^&*(),.?":{}|<>]/.test(val) ? 'valid' : 'invalid';
    });

    function validarFormulario() {
      const pass = document.getElementById('contraseña').value;
      const esValida =
        pass.length >= 8 &&
        /[A-Z]/.test(pass) &&
        /\d/.test(pass) &&
        /[!@#$%^&*(),.?":{}|<>]/.test(pass);

      if (!esValida) {
        alert("La contraseña no cumple con los criterios de seguridad.");
        return false;
      }
      return true;
    }
  </script>
</body>
</html>
